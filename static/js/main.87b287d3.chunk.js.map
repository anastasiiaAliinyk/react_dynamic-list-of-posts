{"version":3,"sources":["api/api.js","api/users.js","api/posts.js","components/PostsList/PostsList.jsx","components/NewCommentForm/NewCommentForm.jsx","components/PostDetails/PostDetails.jsx","App.jsx","index.js"],"names":["request","url","options","a","fetch","response","ok","Error","json","body","data","getUsers","sort","previous","next","id","slice","getPosts","getUserPosts","userId","posts","filter","post","getComments","postId","comments","comment","deleteComment","commentId","method","PostsList","onOpen","onClose","selectedId","useState","setPosts","useEffect","then","className","map","key","title","type","onClick","defaultProps","NewCommentForm","name","placeholder","PostDetails","setPost","setComments","isVisibleComment","setIsVisibleComment","getPostDetails","length","App","users","setUsers","selectedUserId","setSelectedUserId","selectedPostId","setSelectedPostId","classNames","value","onChange","event","target","user","Number","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.87b287d3.chunk.js","sourcesContent":["export const BASE_URL = 'https://mate-api.herokuapp.com';\n\nexport const request = async(url, options) => {\n  const response = await fetch(`${BASE_URL}${url}`, options);\n\n  if (!response.ok) {\n    throw new Error(`Failed to load data ${url}`);\n  }\n\n  const body = await response.json();\n\n  return body.data || body;\n};\n\nexport const save = (url, data) => (\n  request(url, {\n    method: 'POST',\n    headers: {\n      'Content-type': 'application/json; charset=UTF-8',\n    },\n    body: JSON.stringify(data),\n  })\n);\n\nexport const remove = url => request(url, { method: 'DELETE' });\n","import { request } from './api';\n\nexport const getUsers = async() => (\n  (await request('/users'))\n    .sort((previous, next) => previous.id - next.id)\n    .slice(0, 5)\n);\n","import { request, save, remove } from './api';\n\nexport const getPosts = () => request('/posts');\n\nexport const getUserPosts = async(userId) => {\n  const posts = await getPosts();\n\n  return posts.filter(post => post.userId === userId);\n};\n\nexport const getPostDetails = postId => request(`/posts/${postId}`);\n\nexport const getComments = async(postId) => {\n  const comments = await request('/comments');\n\n  return comments.filter(comment => comment.postId === postId);\n};\n\nexport const createComment = comment => save('/comments', comment);\n\nexport const deleteComment = commentId => remove(`/comments/${commentId}`);\n\n// export const createComment = () => (\n//   post('/comments', {\n//     postId: 256,\n//     name: 'Hello mate',\n//     email: '@.gmail.com',\n//     body: 'New comment2',\n//   })\n// );\n","import React, { useState, useEffect } from 'react';\nimport './PostsList.scss';\nimport PropTypes from 'prop-types';\nimport { getPosts, getUserPosts, createComment } from '../../api/posts';\n\n//createComment();\n\nexport const PostsList = ({\n  userId,\n  onOpen,\n  onClose,\n  selectedId,\n}) => {\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    if (!userId) {\n      getPosts()\n        .then(setPosts);\n    } else {\n      getUserPosts(userId)\n        .then(setPosts);\n    }\n  }, [userId]);\n\n  return (\n    <div className=\"PostsList\">\n      <h2>Posts:</h2>\n\n      <ul className=\"PostsList__list\">\n        {posts.map(post => (\n          <li\n            className=\"PostsList__item\"\n            key={post.id}\n          >\n            <div>\n              <b>\n                [User #\n                {post.userId}\n                ]: &nbsp;\n              </b>\n              {post.title || 'No title'}\n            </div>\n\n            {post.id === selectedId\n              ? (\n                <button\n                  type=\"button\"\n                  className=\"PostsList__button button\"\n                  onClick={onClose}\n                >\n                  Close\n                </button>\n              )\n              : (\n                <button\n                  type=\"button\"\n                  className=\"PostsList__button button\"\n                  onClick={() => onOpen(post.id)}\n                >\n                  Open\n                </button>\n              )\n            }\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nPostsList.defaultProps = {\n  selectedId: null,\n  userId: null,\n};\n\nPostsList.propTypes = {\n  userId: PropTypes.number,\n  onOpen: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired,\n  selectedId: PropTypes.number,\n};\n","import React from 'react';\nimport './NewCommentForm.scss';\n\nexport const NewCommentForm = () => (\n  <form className=\"NewCommentForm\">\n    <div className=\"form-field\">\n      <input\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Your name\"\n        className=\"NewCommentForm__input\"\n      />\n    </div>\n\n    <div className=\"form-field\">\n      <input\n        type=\"text\"\n        name=\"email\"\n        placeholder=\"Your email\"\n        className=\"NewCommentForm__input\"\n      />\n    </div>\n\n    <div className=\"form-field\">\n      <textarea\n        name=\"body\"\n        placeholder=\"Type comment here\"\n        className=\"NewCommentForm__input\"\n      />\n    </div>\n\n    <button\n      type=\"submit\"\n      className=\"NewCommentForm__submit-button button\"\n    >\n      Add a comment\n    </button>\n  </form>\n);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { NewCommentForm } from '../NewCommentForm';\nimport './PostDetails.scss';\nimport {\n  getPostDetails,\n  getComments, deleteComment,\n} from '../../api/posts';\n\n// createComment({\n//   postId: 256,\n//   name: 'Hello mate',\n//   email: '@.gmail.com',\n//   body: 'New comment2',\n// });\n\nexport const PostDetails = ({ postId }) => {\n  const [post, setPost] = useState({});\n  const [comments, setComments] = useState(null);\n  const [isVisibleComment, setIsVisibleComment] = useState(true);\n\n  useEffect(() => {\n    getPostDetails(postId)\n      .then(setPost);\n\n    getComments(postId)\n      .then(setComments);\n  }, [postId]);\n\n  const switchCommentHandler = () => {\n    setIsVisibleComment(!isVisibleComment);\n  };\n\n  const deleteCommentHandler = (commentId) => {\n    deleteComment(commentId);\n\n    setComments(previous => previous\n      .filter(comment => comment.id !== commentId));\n  };\n\n  return (\n    <div className=\"PostDetails\">\n      <h2>Post details:</h2>\n\n      <section className=\"PostDetails__post\">\n        <p>{post.body || 'No description'}</p>\n      </section>\n\n      <section className=\"PostDetails__comments\">\n        <button\n          type=\"button\"\n          className=\"button\"\n          onClick={switchCommentHandler}\n        >\n          Hide &nbsp;\n          {comments && comments.length}\n          &nbsp; comments\n        </button>\n        <ul className=\"PostDetails__list\">\n\n          {isVisibleComment && comments && comments.map(comment => (\n            <li className=\"PostDetails__list-item\" key={comment.id}>\n              <button\n                type=\"button\"\n                className=\"PostDetails__remove-button button\"\n                onClick={() => deleteCommentHandler(comment.id)}\n              >\n                X\n              </button>\n              <p>{comment.body}</p>\n            </li>\n          ))}\n        </ul>\n      </section>\n\n      <section>\n        <div className=\"PostDetails__form-wrapper\">\n          <NewCommentForm />\n        </div>\n      </section>\n    </div>\n  );\n};\n\nPostDetails.defaultProps = {\n  postId: null,\n};\n\nPostDetails.propTypes = {\n  postId: PropTypes.number,\n};\n","import React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport classNames from 'classnames';\nimport { getUsers } from './api/users';\n\nimport { PostsList } from './components/PostsList';\nimport { PostDetails } from './components/PostDetails';\n\nconst App = () => {\n  const [users, setUsers] = useState(null);\n  const [selectedUserId, setSelectedUserId] = useState('');\n  const [selectedPostId, setSelectedPostId] = useState(null);\n\n  useEffect(() => {\n    getUsers()\n      .then(setUsers);\n  }, []);\n\n  const onChangeHandler = (event) => {\n    setSelectedUserId(event.target.value);\n    setSelectedPostId(null);\n  };\n\n  const setPostIdHandler = (postId) => {\n    setSelectedPostId(postId);\n  };\n\n  const unsetPostIdHandler = () => {\n    setSelectedPostId(null);\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App__header\">\n        <label>\n          Select a user: &nbsp;\n\n          <div\n            className={classNames(\n              'select',\n              { 'is-loading': users === null },\n            )}\n          >\n            <select\n              value={selectedUserId}\n              onChange={onChangeHandler}\n            >\n              <option value=\"0\">All users</option>\n\n              {users && users.map(user => (\n                <option\n                  value={user.id}\n                  key={user.id}\n                >\n                  {user.name}\n                </option>\n              ))\n              }\n            </select>\n          </div>\n        </label>\n      </header>\n\n      <main className=\"App__main\">\n        <div className=\"App__sidebar\">\n          <PostsList\n            userId={Number(selectedUserId)}\n            onOpen={setPostIdHandler}\n            onClose={unsetPostIdHandler}\n            selectedId={selectedPostId}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          {selectedPostId && <PostDetails postId={selectedPostId} />}\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}